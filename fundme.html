<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html>

<head>

    	<title>Funding Bar... not bar fund.</title>

	<link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"/>
	<link href='http://fonts.googleapis.com/css?family=Condiment' rel='stylesheet' type='text/css'>

	<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" 

type="text/javascript"></script>
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<style>canvas { padding-left: 0;
    padding-right: 0;
    margin-left: auto;
    margin-right: auto;
    display: block;}</style>

<script>

//<![CDATA[


$(document).ready(function(){

/*
**	fundme.html by Rodney Sloan
**	https://github.com/RodSloan/funding-bar
**
**	An animated bar. Displays how much cash people have given you. Yay cash!
**	You could use it for pretty much anything.
*/

	/* Variables and Constants*/
	var VERSION_NUMBER = "0.1"; //Current version of this file.
	var CANVAS_WIDTH = 200;
	var CANVAS_HEIGHT = 25;
	var FPS = 30;

   	
	var iGOAL = 30000;  //This is the goal for the project
	var iTotal = 1000; //This is the total collected so far
	
	var c = document.getElementById("fundingCanvas");
	var canvas = c.getContext("2d");


	// Returns the percentage you've recieved of your goal
	function calculateFunding() {
		return iTotal/iGOAL*100;
	}

	// alert(calculateFunding());	// UNCOMMENT TO TEST

	// Draws the bar
	function drawBar() {
		canvas.fillStyle = "#FF8800";

		canvas.fillRect(0, 0, calculateFunding()*2, 50);


	}	

	// Writes the percentage funded
	function writeFunding() {
		canvas.font = "12px Arial";
		canvas.fillStyle = "#664400";
		canvas.fillText(Math.round(calculateFunding())+" %",5,16);
	}

	// Animates the bar, and anything else on the canvas
	setInterval(function() {

          update();

          draw();

        }, 1000/FPS);

	// Any info updates happen here
	function update() {
		// Example
		if (iTotal < iGOAL) iTotal+=50; //We wouldn't actually get the info from a DB
	

}

	// All drawing is called here
	function draw(){	
		// Clear the screen	
		canvas.fillStyle="#FFFFFF";
		canvas.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
		// Write and draw all info
		drawBar();
		writeFunding();
	}	

}); 
//]]>

</script>

</head>


<body>

<header>
    <h1>Dosh collected. Thanks backers!</h1>
</header>

<section> <canvas id="fundingCanvas" width="200" height="25" style="border:1px solid #FF8800;">
<p>Hang on! Your browser doesn't support the &lt;canvas&gt; tag! How about an <a href="https://www.mozilla.org/en-

US/firefox/new/">update</a>.</br>
あなたのブラウザーは古いでしょう。<a href="https://support.mozilla.org/ja/kb/get-started-firefox-overview-main-features">アップグレ

ード</a>いかがですか？</p>
</canvas> </section>

</body>

</html>
